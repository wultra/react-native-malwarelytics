import * as React from 'react';
import { StyleSheet, View, Text, Button } from 'react-native';
import Malwarelytics from 'react-native-malwarelytics';
import Prompt from 'rn-prompt';
export default function App() {
    const [state, setState] = React.useState();
    React.useEffect(() => {
        Malwarelytics.initialize({ enableSilentMode: false }).finally(() => {
            Malwarelytics.isInitialized().then((r) => { setState({ ...state, isInitialized: r }); }).catch(e => console.log(e));
        }).catch(() => { });
    }, []);
    return (React.createElement(View, { style: styles.container },
        React.createElement(Text, null,
            "Initialized: ",
            `${state?.isInitialized}`),
        React.createElement(Button, { onPress: () => {
                Malwarelytics.triggerSmartProtection().catch(e => console.log(e));
            }, title: "Run Smart Protection" }),
        React.createElement(Button, { title: "Set client id", onPress: () => setState({ ...state, isPromptOpen: true }) }),
        React.createElement(Prompt, { title: "Set Client ID", placeholder: "Client ID", defaultValue: "", visible: state?.isPromptOpen, onCancel: () => setState({
                ...state,
                isPromptOpen: false
            }), onSubmit: (value) => {
                setState({
                    ...state,
                    isPromptOpen: false
                });
                Malwarelytics.setClientId(value).then(() => { console.log("client id changed"); });
            } })));
}
const styles = StyleSheet.create({
    container: {
        flex: 1,
        alignItems: 'center',
        justifyContent: 'center',
    },
});
